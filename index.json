[{"content":" Alberto\u0026rsquo;s tech backpack. This is my personal website where I share my knowledge on or just anything I find worth sharing. I love tech, open source, and my main interest right now is infra, cloud and whatever people mean when they refer to \u0026lsquo;DevOps\u0026rsquo;\nI\u0026rsquo;ve been working a few years as a âœ¨ DevOps engineer âœ¨ but also you will find me on the backend, sometimes frontend, sometimes just Cloud Admin, but always loving what I do.\nTo the few people reading this, you got this, thank you ðŸ™Œ\n","date":"3 August 2022","permalink":"/","section":"Alberto Olvera ","summary":"Alberto\u0026rsquo;s tech backpack. This is my personal website where I share my knowledge on or just anything I find worth sharing. I love tech, open source, and my main interest right now is infra, cloud and whatever people mean when they refer to \u0026lsquo;DevOps\u0026rsquo;","title":"Alberto Olvera "},{"content":"","date":"3 August 2022","permalink":"/tags/chaos/","section":"Tags","summary":"","title":"chaos"},{"content":"","date":"3 August 2022","permalink":"/tags/disaster/","section":"Tags","summary":"","title":"disaster"},{"content":"Disaster planning # For high availability we need to multiple zones in a region, that can be achieved by deploying to multiple servers that need to be orchestrated with a instance group, thet we create a failover database (replica DB) in another zone or use a distributed database\nWe can also create a testing service for a health check on our instances, this checkpoints verify that the services are up and that they can communicate to other services correctly. If a check fails, the instance group will create a new server and delete a broken one. We can also configure our load balancers so they can only send connections to healthy services.\nStrategies # Cold standby # Consists of snapshots of persistent disks, machine images and backups stored multi regionally. If the main region fails, we switch ther service to a backup region, you have to route requests to the new region\nHot standby # Consists of snapshots of persistent disks, machine images and backups stored multi regionally. This time we use a global load balancer. For storing unstructured data in multi regions, for storing structured data we use a multi region DB\n","date":"3 August 2022","permalink":"/posts/disaster-planning/","section":"Posts","summary":"Learn the basics notions for disaster recovery.","title":"Planning for disasters"},{"content":"Here you will find some blog posts about the things I\u0026rsquo;m exploring.\n","date":"3 August 2022","permalink":"/posts/","section":"Posts","summary":"Here you will find some blog posts about the things I\u0026rsquo;m exploring.","title":"Posts"},{"content":"","date":"3 August 2022","permalink":"/tags/reliability/","section":"Tags","summary":"","title":"reliability"},{"content":"","date":"3 August 2022","permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"","date":"3 September 2020","permalink":"/tags/azure/","section":"Tags","summary":"","title":"azure"},{"content":"","date":"3 September 2020","permalink":"/tags/containers/","section":"Tags","summary":"","title":"containers"},{"content":"Fundamentals # A container its a different way to do computing, as a quick refresher, Virtual Machines run on a stack consisting of an Hypervisor, guests operating systems and each application unique stack.\nHaving multiple applications running on the multiple guest operating systems often leads to routinary maintenance tasks performed on the OS's which slowed deployment times for applications. On the other hand containers can run on either a physical or a virtual machine, the machine has to have its own OS and a container runtime installed, in this runtime all of the containers have their own set of binaries related to the apps on them. Since the entire application is contained within a container image, to start an application we just have to start up the container from a container image.\nContainers let you run and store your applications on a container image, basically we put all of the application\u0026rsquo;s binaries on a nice package. When the container image is running then its called a container. Generally only one application runs on each container, therefore containers become very small and portable. One way to exchange and modify container images is using a container registry, which simplifies the sharing and operation of containers.\nTo configure a container we can use a tool like Docker to create a Dockerfile, basically a Dockerfile is just the commands to build container images, commonly used instructions in a Dockerfile include copying a compiled application binary into the container image and defining the starting scripts. After the container image is finished we push the image into a container registry (in Azure we use the service Azure Container Registry. After the functioning container image is in the container registry we then fire up an instance to run the container on. In Azure we use the Azure Container Instances.\nExample Structure # In an Example a Dockerfile is structured in this way:\nWe use a FROM instruction to define a base container image used to contain the application We configure the enviroment Create a directory with the app we are going to host using the RUN and mkdir commands We select the new directory as the working directory of the next instructions in the Dockerfile using the WORKDIR command Copy the application binaries into the container using the COPY command We copy any necesary scripts into the new directory and run then using the RUN command defining which shell we want to use to run the script Expose the port of the application using the EXPOSE command We use the ENTRYPOINT command to select which file or binary we want to start when the container is started Use the command docker build to run all of the commands Azure Container Registry # This is a managed Docker Registry Service based on the open source Docker Registry, this service can be a key component of a CI/CD pipeline, allows you to build, store and manage container images. You can use this service to automate the build, test and push process for each image.\nACR requires authentication for all operations supporting two types of login methos, using the Azure Active Directory service identity and the ACR administrator account, the latter being disabled by default and only needed in some scenarios. As with other IaaS solutions, it\u0026rsquo;s possible to use RBAC with this service, however we can assing these roles to people and also tools. Azure has pregenerated roles for owner, contributor and reader. The roles AcrPull, AcrPush and AcrDelete are roles that we want to assing to service principals when using headless authentications for tools or container orchestrators. These roles have access to the data of ACR such as images but cannot administer ACR.\nAzure Container Instances # This service is a serverless container platform that allows us to deploy containers that can be accessed via an Azure Virtual Network or even the internet. This service allows for either Windows and Linux containers and we can (as always) select the required CPU and memory required by our applications.\nWe can use another service like Azure Files to provide persistent storage to our applications and deploy multiple containers in batches to create more complex applications.\nThere is also the posibility to create policies to tell Azure Container Instances what to do if an application inside a container fails, the three options we have are, restart always, restart on failure and restart never. The default policy is restart always.\nAs we said earlier, to deploy containers we need a container registry and we are not limited by Azure, we can use any registry we want, we only need the container image.\n","date":"3 September 2020","permalink":"/posts/azure-containers/","section":"Posts","summary":"Learn the basics of running containers in Azure","title":"Exploring Containers in Azure"},{"content":"","date":"20 June 2020","permalink":"/tags/architecture/","section":"Tags","summary":"","title":"architecture"},{"content":"Best practices # There are 12 practices that can be considered as the best\nUse one codebase with strong revision control Explicitly declared dependencies (libraries), using package managers like pip. The enviroment should be stored in a config file Have resilient backing services, attached to each service and should be easily swapable. Deployment should be separated in build, release and run stages. Where build is creating the deployment package, putting the configuration in a runtime enviroment and executing the app. The app should be executed as one or more stateless processes Each service is binded to a specific port Since services run independently, they run in separated processes, which scale easily by adding new instances for the process. Apps should be written in a robust and reliable way with fast startup, because they need to deploy and scale quickly. The development enviroment should be paired to keep the stages similar, using docker is useful We should treat logs as event streams Admin tasks should be run as a repeatable and automated on-off process but shouldn\u0026rsquo;t be a part of the app ","date":"20 June 2020","permalink":"/posts/microservices-best/","section":"Posts","summary":"A few points summarizing the best practices when working with microservices.","title":"Best practices for microservices"},{"content":"","date":"20 June 2020","permalink":"/tags/microservices/","section":"Tags","summary":"","title":"microservices"},{"content":"","date":"3 May 2020","permalink":"/tags/dns/","section":"Tags","summary":"","title":"dns"},{"content":"General points # DNS is an application layer service that uses UDP as a transport protocol, lately uses TCP for larger packet interchanges A DNS server never needs to care about doing anything but responding to incoming lookups DNS resolver simply needs to perform lookups and repeat them if they don\u0026rsquo;t succeed Domain Name Resolution # There are five primary types of DNS servers\nCaching: Generally provided by an ISP or your local network, store domain names lookups for a certain ISP or local network. Used to prevent waste of time by looking up an IP whenever connection is established. Recursive: Generally provided by an ISP or your local network, store domain names lookups for a certain ISP or local network. Used to perform full DNS resolution requests. Root DNS: When a recursive name server needs to perform a full recursive resolution it connects with the root name server. Root servers are responsible for directing queries toward the appropiate TLD name server. There are 13 in total. TLD server: Stands for Top Level Domain, is the last part of any domain name. \u0026ldquo;.com\u0026rdquo;,\u0026quot;.mx\u0026quot; etc. Auth server: Decides if the request for the IP is authorized. DNS Records # A record \u0026raquo; Used to point a certain domain, a single A record points to a single domain but a single domain can have multiple A records. This allows roung robin. A Quad A record is very similar to an A record except that it returns in IPv6 address instead of an IPv4 address. A CNAME (canonical name) record is used to redirect traffic from one domain to another. MX stands for mail exchange and this resource record is used in order to deliver e-mail to the correct server. Only for mail services SRV stands for service record, and it\u0026rsquo;s used to define the location of various specific services. Can be defined to return the specifics of different services Text record \u0026raquo; TXT stands for text and was originally intended to be used only for associating some descriptive text with a domain name for human consumption. Used to convey additional data intended for other computers to process, some use it to communicate data not allowed\tto communicate via DNS. SOA (Start of Authority)record \u0026raquo; Declares the zone and the name of the name server that is authoritative for it. NS records \u0026raquo; indicate other name servers that may also be responsible for this zone What is DHCP? # Dynamic Host Configuration Protocol Its an application layer protocol that automates the configuration process of hosts on a network. Reduce the administrative overhead of having to configure lots of network devices on a single network Helps configure the network layer DHCP Protocols # Dynamic allocation. The most common. Sets aside a range of IPs for client devices and only one of thewe IPs is issued when requested Automatic allocatio. Sets aside a range of IPs for assignment purposes. And keeps track of which IPs it\u0026rsquo;s assigned to certain devices in the past. With this protocol the DHCP can assign the same IP to the same machine each time, if possible. Fixed allocation. Requires a manually specified list of MAC address and the corresponding IPs. The DHCP process initiates with the DHCP discovery, it has the next steps.\nThe server discovery step. The DHCP clients sends a discover message out onto the network. The server examines its own configuration and would make a decision on what, if any, IP address to offer to the client. Responds with DHCPOFFER message. The server receives the DHCPREQUEST message and responds with a DHCPACK or DHCP acknowledgement message. Once a lease has expired, the DHCP client would need to negotiate a new lease by performing the entire DHCP discovery process all over again. A client can also release its lease to the DHCP server, which it would do when it disconnects from the network. In order to operate on a modern network a computer needs to configurate the:\nA name server A subnet mask An IP address A default gateway What is a proxy? # A proxy service is a server that acts on behalf of a client in order to access another service. They sit between clients and servers providing anonymity, security, content filtering and other servers. Web organizations use web proxies to direct all web traffic to a web proxy, allowing the proxy server to retrieve daata from the internet and store it in cache. But this method is old beacuse the connection of an ISP is fast enough. A more common use of a web proxy today might be to prevent someone from accessing sites. By using a web proxy, they can direct all web traffic to it, allow the proxy to inspect what data is being requested, and then allow or deny this request, depending on what site is being accessed.\nA reverse proxy is a service that appears like a single server to external clients but represents many servers living behind it. Like Round Robin is a form of load balancing. Reverse proxies are now implemented in order to use hardware built specifically for cryptography, to perform the enryption and decryption work. So that the web servers are free to just serve content.\n","date":"3 May 2020","permalink":"/posts/dns/","section":"Posts","summary":"General information on DNS","title":"Domain Name System"},{"content":"","date":"3 May 2020","permalink":"/tags/networking/","section":"Tags","summary":"","title":"networking"},{"content":"","date":"1 January 0001","permalink":"/categories/","section":"Categories","summary":"","title":"Categories"}]
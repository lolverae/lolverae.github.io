<!doctype html><html lang=es dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="es"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><title>Monitoreando tu cluster de Proxmox con Prometheus y Grafana &#183; Alberto Olvera</title>
<meta name=title content="Monitoreando tu cluster de Proxmox con Prometheus y Grafana &#183; Alberto Olvera"><meta name=description content="Vamos a hablar sobre el monitoreo de un cluster de Proxmox"><meta name=keywords content="Home Lab,Proxmox,"><link rel=canonical href=https://albertolvera.com/es/posts/20240414-prometheus-proxmox/><link type=text/css rel=stylesheet href=/css/main.bundle.min.a6a844c0cebafd24d3110b553157714bd7d02cdde190a7edc9f781301be0486b0ccff30737aedbe47c4f73cb62a35eeb1d47053fe3fabf2e2e5f2e331c829b18.css integrity="sha512-pqhEwM66/STTEQtVMVdxS9fQLN3hkKftyfeBMBvgSGsMz/MHN67b5HxPc8tio17rHUcFP+P6vy4uXy4zHIKbGA=="><script type=text/javascript src=/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.b36dda9ec4ec11e967fd341e7d57b8c484ac7a39f8f329f7bcf7ce4812569de8607db866a086d4789956ac0b74967e251c9a566d94d469dd28b8787fed4f46f5.js integrity="sha512-s23ansTsEeln/TQefVe4xISsejn48yn3vPfOSBJWnehgfbhmoIbUeJlWrAt0ln4lHJpWbZTUad0ouHh/7U9G9Q==" data-copy data-copied></script><script src=/js/zoom.min.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://albertolvera.com/es/posts/20240414-prometheus-proxmox/"><meta property="og:site_name" content="Alberto Olvera"><meta property="og:title" content="Monitoreando tu cluster de Proxmox con Prometheus y Grafana"><meta property="og:description" content="Vamos a hablar sobre el monitoreo de un cluster de Proxmox"><meta property="og:locale" content="es"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-04-14T00:00:00+00:00"><meta property="article:modified_time" content="2024-04-14T00:00:00+00:00"><meta property="article:tag" content="Home Lab"><meta property="article:tag" content="Proxmox"><meta name=twitter:card content="summary"><meta name=twitter:title content="Monitoreando tu cluster de Proxmox con Prometheus y Grafana"><meta name=twitter:description content="Vamos a hablar sobre el monitoreo de un cluster de Proxmox"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Monitoreando tu cluster de Proxmox con Prometheus y Grafana","headline":"Monitoreando tu cluster de Proxmox con Prometheus y Grafana","abstract":"Vamos a hablar sobre el monitoreo de un cluster de Proxmox","inLanguage":"es","url":"https:\/\/albertolvera.com\/es\/posts\/20240414-prometheus-proxmox\/","author":{"@type":"Person","name":"Alberto Olvera"},"copyrightYear":"2024","dateCreated":"2024-04-14T00:00:00\u002b00:00","datePublished":"2024-04-14T00:00:00\u002b00:00","dateModified":"2024-04-14T00:00:00\u002b00:00","keywords":["Home Lab","Proxmox"],"mainEntityOfPage":"true","wordCount":"1880"}]</script><meta name=author content="Alberto Olvera"><link href=https://github.com/lolverae rel=me><link href=https://linkedin.com/in/luis-alberto-olvera rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script><script defer type=text/javascript src=/js/mermaid.bundle.79fb2b63195059fdbfc56baebc147a42a4f1a8742d85e355e37f284c17866228b178f4bfc234a5ff7b807cca0907a189a1d6309159e50c112a9e82cabfc4c1f8.js integrity="sha512-efsrYxlQWf2/xWuuvBR6QqTxqHQtheNV438oTBeGYiixePS/wjSl/3uAfMoJB6GJodYwkVnlDBEqnoLKv8TB+A=="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-L65YLFKFQS"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L65YLFKFQS")</script><meta name=theme-color></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Ir al contenido</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 pl-[24px] pr-[24px]" style=z-index:100><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div><div class="relative max-w-[64rem] ml-auto mr-auto"><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/es/ class="text-base font-medium text-gray-500 hover:text-gray-900">Alberto Olvera</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12"><a href=/es/about/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Sobre Mi</p></a><a href=/es/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Posts</p></a><a href=/es/resume/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-base font-medium" title>Curriculum</p></a><div><div class="cursor-pointer flex items-center nested-menu"><span class=mr-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentcolor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span></span><div class="text-sm font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoreando tu cluster de Proxmox con Prometheus y Grafana">ES</div></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=/posts/20240414-prometheus-proxmox/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoring your Proxmox cluster with Prometheus and Grafana">EN</p></a><a href=/es/posts/20240414-prometheus-proxmox/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoreando tu cluster de Proxmox con Prometheus y Grafana">ES</p></a></div></div></div></div><button id=search-button aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="ltr:mr-14 rtl:ml-14 flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center space-x-5 md:ml-12 h-12"><span></span><div><div class="cursor-pointer flex items-center nested-menu"><span class=mr-1><span class="relative block icon"><svg viewBox="0 0 640 512"><path fill="currentcolor" d="M0 128C0 92.7 28.7 64 64 64H256h48 16H576c35.3.0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H320 304 256 64c-35.3.0-64-28.7-64-64V128zm320 0V384H576V128H320zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1.1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1h73.6l8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2 179 276H141l19-42.8zM448 164c11 0 20 9 20 20v4h44 16c11 0 20 9 20 20s-9 20-20 20h-2l-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4.9.6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9L467 333.8c-4.5-2.7-8.8-5.5-13.1-8.5-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8L410 286.1c-7.8-7.8-7.8-20.5.0-28.3s20.5-7.8 28.3.0l14.6 14.6.5.5c12.4-13.1 22.5-28.3 29.8-45H448 376c-11 0-20-9-20-20s9-20 20-20h52v-4c0-11 9-20 20-20z"/></svg></span></span><div class="text-sm font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoreando tu cluster de Proxmox con Prometheus y Grafana">ES</div></div><div class="absolute menuhide"><div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl"><div class="flex flex-col space-y-3"><a href=/posts/20240414-prometheus-proxmox/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoring your Proxmox cluster with Prometheus and Grafana">EN</p></a><a href=/es/posts/20240414-prometheus-proxmox/ class="flex items-center"><p class="text-sm font-sm text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="Monitoreando tu cluster de Proxmox con Prometheus y Grafana">ES</p></a></div></div></div></div><button id=search-button-mobile aria-label=Search class="text-base hover:text-primary-600 dark:hover:text-primary-400" title>
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400" style=margin-right:5px><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/es/about/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Sobre Mi</p></a></li><li class=mt-1><a href=/es/posts/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Posts</p></a></li><li class=mt-1><a href=/es/resume/ class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400"><p class="text-bg font-bg" title>Curriculum</p></a></li></ul></div></label></div></div><script>(function(){var e=$(".main-menu"),t=window.location.pathname;e.find('a[href="'+t+'"]').each(function(e,t){$(t).children("p").addClass("active")})})()</script></div></div><script>window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=document.getElementById("menu-blur");n.style.opacity=t/300})</script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/es/>Alberto Olvera</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/es/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class="inline hidden"><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/es/posts/20240414-prometheus-proxmox/>Monitoreando tu cluster de Proxmox con Prometheus y Grafana</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Monitoreando tu cluster de Proxmox con Prometheus y Grafana</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2024-04-14 00:00:00 +0000 UTC">14 abril 2024</time><span class="px-2 text-primary-500">&#183;</span><span title="Tiempo de lectura">9 mins</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/home-lab/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Home Lab
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/proxmox/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Proxmox</span></span></span></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]"><details open class="toc-right mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Tabla de contenido</summary><div class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#monitoreando-tu-cluster-proxmox-con-prometheus-y-grafana>Monitoreando tu cluster Proxmox con Prometheus y Grafana</a></li><li><a href=#la-configuración>La configuración</a></li><li><a href=#introducción-a-las-herramientas>Introducción a las herramientas:</a><ul><li><a href=#prometheus>Prometheus:</a></li><li><a href=#grafana>Grafana:</a></li></ul></li><li><a href=#configuración-del-monitoreo>Configuración del monitoreo</a><ul><li><a href=#prometheus-1>Prometheus</a><ul><li><a href=#instalación>Instalación</a></li><li><a href=#configuración>Configuración</a></li><li><a href=#configurar-prometheus-como-servicio-de-linux>Configurar Prometheus como servicio de Linux</a></li></ul></li><li><a href=#grafana-1>Grafana</a><ul><li><a href=#instalación-1>Instalación</a></li><li><a href=#instalación-2>Instalación</a></li><li><a href=#configuración-1>Configuración</a></li><li><a href=#exportador-pve-como-servicio-de-linux>Exportador PVE como servicio de Linux</a></li></ul></li></ul></li><li><a href=#asociando-prometheus-con-el-exportador-pve>Asociando Prometheus con el exportador PVE</a></li><li><a href=#visualización-de-métricas-de-proxmox-desde-grafana>Visualización de métricas de Proxmox desde Grafana</a></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Tabla de contenido</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#monitoreando-tu-cluster-proxmox-con-prometheus-y-grafana>Monitoreando tu cluster Proxmox con Prometheus y Grafana</a></li><li><a href=#la-configuración>La configuración</a></li><li><a href=#introducción-a-las-herramientas>Introducción a las herramientas:</a><ul><li><a href=#prometheus>Prometheus:</a></li><li><a href=#grafana>Grafana:</a></li></ul></li><li><a href=#configuración-del-monitoreo>Configuración del monitoreo</a><ul><li><a href=#prometheus-1>Prometheus</a><ul><li><a href=#instalación>Instalación</a></li><li><a href=#configuración>Configuración</a></li><li><a href=#configurar-prometheus-como-servicio-de-linux>Configurar Prometheus como servicio de Linux</a></li></ul></li><li><a href=#grafana-1>Grafana</a><ul><li><a href=#instalación-1>Instalación</a></li><li><a href=#instalación-2>Instalación</a></li><li><a href=#configuración-1>Configuración</a></li><li><a href=#exportador-pve-como-servicio-de-linux>Exportador PVE como servicio de Linux</a></li></ul></li></ul></li><li><a href=#asociando-prometheus-con-el-exportador-pve>Asociando Prometheus con el exportador PVE</a></li><li><a href=#visualización-de-métricas-de-proxmox-desde-grafana>Visualización de métricas de Proxmox desde Grafana</a></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><h2 class="relative group">Monitoreando tu cluster Proxmox con Prometheus y Grafana<div id=monitoreando-tu-cluster-proxmox-con-prometheus-y-grafana class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#monitoreando-tu-cluster-proxmox-con-prometheus-y-grafana aria-label=Ancla>#</a></span></h2><p>Este post te guiará a través de la configuración del monitoreo de Proxmox
utilizando Prometheus y Grafana. Al implementar esta solución, obtendrás
información valiosa sobre el estado y el rendimiento de tu entorno Proxmox, lo
que te permitirá identificar posibles problemas antes de que se intensifiquen y
optimizar la asignación de recursos para tus máquinas virtuales y contenedores.</p><p><strong>¿Quién debería seguir esta guía?</strong></p><p>Esta guía es ideal para aquellos que ya están familiarizados con Proxmox y
desean agregar una capa de monitoreo a su configuración. Será útil tener una
comprensión básica de los conceptos de Linux y familiaridad con la línea de
comandos.</p><h2 class="relative group">La configuración<div id=la-configuraci%C3%B3n class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#la-configuraci%C3%B3n aria-label=Ancla>#</a></span></h2><p>Configuraré mi monitoreo de manera que no tenga que instalar nada en mis nodos
Proxmox. En su lugar, instalaré la pila de monitoreo completa en una de las
máquinas virtuales que se ejecutan en mi cluster.</p><p>Al igual que en el siguiente diagrama, tendré un servidor AlmaLinux ejecutándose
en mi cluster que alojará lo siguiente:</p><ol><li>Servidor Prometheus</li><li>Grafana</li><li>Exportador Prometheus VE</li></ol><div class=mermaid align=center>flowchart LR; PV1[PVE1]-->PE[PVE Exporter]; subgraph ide1
[AlmaLinux VM] PE[PVE Exporter]-->PS[Prometheus Server] --> G[Grafana] end
PV2[PVE2]-->PE PV3[PVE3]-->PE; PV4[PVE4]-->PE; style ide1 fill:#888
stroke:#000,stroke-width:4px,stroke-dasharray: 5 5</div><p><strong>Consideraciones de seguridad:</strong></p><p>Si bien la guía muestra el proceso de configuración, es importante tener en
cuenta que el ejemplo utiliza una contraseña débil para Prometheus.</p><div class="flex px-4 py-3 rounded-md bg-primary-100 dark:bg-primary-900"><span class="text-primary-400 ltr:pr-3 rtl:pl-3 flex items-center"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M506.3 417 293 53c-16.33-28-57.54-28-73.98.0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6c32.76.0 53.26-35 36.96-63zM232 168c0-13.25 10.75-24 24-24s24 10.8 24 24v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zm24 248c-17.36.0-31.44-14.08-31.44-31.44s14.07-31.44 31.44-31.44 31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"/></svg>
</span></span><span class=dark:text-neutral-300>En un entorno real, siempre elige una contraseña segura y única
para proteger tu configuración de monitoreo.</span></div><h2 class="relative group">Introducción a las herramientas:<div id=introducci%C3%B3n-a-las-herramientas class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#introducci%C3%B3n-a-las-herramientas aria-label=Ancla>#</a></span></h2><h3 class="relative group">Prometheus:<div id=prometheus class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#prometheus aria-label=Ancla>#</a></span></h3><p>Un sistema de monitoreo de código abierto que actúa como un recolector central,
extrayendo métricas de diversas fuentes como Proxmox VE a intervalos regulares y
almacenándolas en una base de datos de series temporales.</p><h3 class="relative group">Grafana:<div id=grafana class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#grafana aria-label=Ancla>#</a></span></h3><p>Una plataforma de código abierto para visualizar datos. Te permite crear paneles
interactivos que muestran las métricas recopiladas por Prometheus, lo que
facilita la comprensión del uso de recursos, identificar tendencias y solucionar
problemas.</p><p>Con una combinación de estas dos herramientas en tu cluster Proxmox puedes
obtener los siguientes beneficios:</p><ul><li>Visibilidad mejorada: Obtén información en tiempo real sobre el rendimiento de
Proxmox VE, incluido el uso de CPU, memoria, almacenamiento y red.</li><li>Detección proactiva de problemas: identifica posibles problemas antes de que
se intensifiquen, lo que te permite tomar medidas preventivas.</li><li>Gestión de recursos mejorada: optimiza la asignación de recursos para tus
máquinas virtuales y contenedores en función de los datos de uso real.</li><li>Toma de decisiones informada: obtén información basada en datos para tomar
decisiones informadas sobre cómo escalar tu infraestructura Proxmox VE.</li></ul><h2 class="relative group">Configuración del monitoreo<div id=configuraci%C3%B3n-del-monitoreo class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configuraci%C3%B3n-del-monitoreo aria-label=Ancla>#</a></span></h2><h3 class="relative group">Prometheus<div id=prometheus-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#prometheus-1 aria-label=Ancla>#</a></span></h3><h4 class="relative group">Instalación<div id=instalaci%C3%B3n class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instalaci%C3%B3n aria-label=Ancla>#</a></span></h4><p>Hay muchas opciones para instalar, usaré uno de los binarios precompilados
oficiales que se proporcionan en su página de descargas:
<a href=https://prometheus.io/download/ target=_blank>https://prometheus.io/download/</a>.</p><p>Así que descargaré su archivo tar y lo extraeré con el siguiente comando.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar xfvz prometheus.tar.gz -C prometheus
</span></span></code></pre></div><p>Primero, agrega un nuevo usuario específico para el uso de Prometheus</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo useradd --no-create-home --shell /bin/false prometheus
</span></span></code></pre></div><p>Crea los directorios necesarios para Prometheus y cambia la propiedad de ellos.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo mkdir /etc/prometheus
</span></span><span class=line><span class=cl>sudo mkdir /var/lib/prometheus
</span></span><span class=line><span class=cl>sudo chown prometheus:prometheus /etc/prometheus
</span></span><span class=line><span class=cl>sudo chown prometheus:prometheus /var/lib/prometheus
</span></span></code></pre></div><p>Comienza copiando las herramientas esenciales de Prometheus (prometheus y
promtool) a sus ubicaciones designadas:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cp prometheus/prometheus /usr/local/bin/
</span></span><span class=line><span class=cl>cp prometheus/promtool /usr/local/bin/
</span></span></code></pre></div><p>Asegúrate de que el usuario de Prometheus sea el propietario de estos binarios
para una ejecución adecuada:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chown prometheus:prometheus /usr/local/bin/prometheus
</span></span><span class=line><span class=cl>chown prometheus:prometheus /usr/local/bin/promtool
</span></span></code></pre></div><h4 class="relative group">Configuración<div id=configuraci%C3%B3n class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configuraci%C3%B3n aria-label=Ancla>#</a></span></h4><p>Utiliza un editor de texto (en el caso de AlmaLinux, <code>vi</code> viene preinstalado)
para crear el archivo de configuración de Prometheus:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vi /etc/prometheus/prometheus.yml
</span></span></code></pre></div><p>Agrega la configuración:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;prometheus&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>targets</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;localhost:9090&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;pve&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>targets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>&lt;IP of node 1&gt; # pve1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>&lt;IP of node 2&gt; # pve2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/pve</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>default]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>node</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__address__]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__param_target</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__param_target]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>instance</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address__</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>&lt;IP from the VM where the exporter is installed&gt;:9221</span><span class=w>
</span></span></span></code></pre></div><p>En este archivo, definimos:</p><ul><li>El intervalo de raspado: la frecuencia con la que Prometheus recopila datos.</li><li>Un trabajo llamado &lsquo;prometheus&rsquo; para raspar las propias métricas de
Prometheus.</li><li>Un trabajo llamado &lsquo;pve&rsquo; para raspar las métricas de nuestros nodos Proxmox
VE.</li><li>La ruta a la ruta de la API del exportador PVE.</li><li>Parámetros para especificar el clúster y el nodo a los que se hace referencia
en las métricas.</li><li>Etiquetas de re-etiquetado para transformar las etiquetas de origen en las
etiquetas deseadas.</li></ul><p>Guarda y ajusta la propiedad: Una vez que hayas agregado la configuración,
guarda el archivo y asegúrate de que el usuario de Prometheus sea el
propietario:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chown prometheus:prometheus /etc/prometheus/prometheus.yml
</span></span></code></pre></div><h4 class="relative group">Configurar Prometheus como servicio de Linux<div id=configurar-prometheus-como-servicio-de-linux class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configurar-prometheus-como-servicio-de-linux aria-label=Ancla>#</a></span></h4><p>Dado que quiero monitorear mi cluster en cualquier momento, configuraré el
servidor Prometheus como un servicio de Linux usando Systemd:</p><p>Agrega esto al archivo <code>/etc/systemd/system/prometheus.service</code>:</p><pre tabindex=0><code>[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target

[Service]
User=prometheus
Group=prometheus
Type=simple
ExecStart=/usr/local/bin/prometheus \
  --config.file /etc/prometheus/prometheus.yml \
  --storage.tsdb.path /var/lib/prometheus/ \
  --web.console.templates=/etc/prometheus/consoles \
  --web.console.libraries=/etc/prometheus/console_libraries

[Install]
WantedBy=multi-user.target
</code></pre><p><strong>Aplicar cambios y verificar el estado:</strong></p><p>Recarga systemd: Después de guardar la configuración de Prometheus, informa a
systemd sobre los cambios usando:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl daemon-reload
</span></span></code></pre></div><p>Inicia Prometheus: Finalmente, inicia el servicio Prometheus:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start prometheus
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> prometheus
</span></span></code></pre></div><p>Verificar estado: Para confirmar si Prometheus se está ejecutando correctamente,
verifica su estado con:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl status prometheus
</span></span></code></pre></div><p>Para ahora, deberías tener Prometheus ejecutándose en tu máquina virtual y
accesible desde la interfaz web en el puerto <code>9090</code>.</p><h3 class="relative group">Grafana<div id=grafana-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#grafana-1 aria-label=Ancla>#</a></span></h3><h4 class="relative group">Instalación<div id=instalaci%C3%B3n-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instalaci%C3%B3n-1 aria-label=Ancla>#</a></span></h4><p>En el caso de la instalación de Grafana, usaré el administrador de paquetes
predeterminado para instalar la versión OSS de Grafana:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dnf install grafana
</span></span></code></pre></div><p>Una vez finalizada la instalación, inicia y habilita el servidor Grafana con
estos comandos:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start grafana-server
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> grafana-server
</span></span></code></pre></div><p><strong>Acceso a la interfaz web:</strong> Con Grafana en ejecución, puedes acceder a su
interfaz web en <code>http://&lt;IP de la Máquina virtual>:3000</code> en tu navegador web.</p><p><strong>Inicio de sesión inicial:</strong> Las credenciales predeterminadas son nombre de
usuario: &lsquo;admin&rsquo; y contraseña: &lsquo;admin&rsquo;. Se te pedirá que cambies la contraseña
al iniciar sesión por primera vez por razones de seguridad.</p><p><strong>Configuración avanzada (opcional):</strong> Para obtener más configuración (por
ejemplo, alertas por correo electrónico o cambios de puerto), edita el archivo
<code>/etc/grafana/grafana.ini</code> utilizando cualquier editor de texto:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo vi /etc/grafana/grafana.ini
</span></span></code></pre></div><p>Realiza los ajustes necesarios dentro del archivo y guarda los cambios.</p><p>Usaremos Prometheus-pve-exporter:
<a href=https://github.com/prometheus-pve/prometheus-pve-exporter target=_blank>https://github.com/prometheus-pve/prometheus-pve-exporter</a>
para enviar las métricas de nuestros clusters a nuestro servidor Prometheus y
desde allí a Grafana.</p><h4 class="relative group">Instalación<div id=instalaci%C3%B3n-2 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#instalaci%C3%B3n-2 aria-label=Ancla>#</a></span></h4><p>Asegúrate de que venv esté instalado (es decir, <code>apt install python3-venv</code>),
luego prepara un nuevo entorno para el Exportador PVE:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>python3 -m venv /opt/prometheus-pve-exporter
</span></span></code></pre></div><p>Instala el Exportador PVE en el nuevo entorno:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/opt/prometheus-pve-exporter/bin/pip install prometheus-pve-exporter
</span></span></code></pre></div><h4 class="relative group">Configuración<div id=configuraci%C3%B3n-1 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#configuraci%C3%B3n-1 aria-label=Ancla>#</a></span></h4><p>Antes de ejecutar el exportador, debemos crear un usuario Proxmox que el
exportador utilizará para raspar las métricas. Crea un nuevo usuario en la
sección Datacenter -> Usuarios. Completa el nombre de usuario, establece el
dominio en <strong>Autenticación Proxmox VE</strong> y dale tu contraseña.<figure><img class="my-0 rounded-md" loading=lazy srcset="/posts/20240414-prometheus-proxmox/add_user_hu86f3011e7513986c8971f07fe164e491_48196_330x0_resize_box_3.png 330w,
/posts/20240414-prometheus-proxmox/add_user_hu86f3011e7513986c8971f07fe164e491_48196_660x0_resize_box_3.png 660w,
/posts/20240414-prometheus-proxmox/add_user_hu86f3011e7513986c8971f07fe164e491_48196_1024x0_resize_box_3.png 1024w,
/posts/20240414-prometheus-proxmox/add_user_hu86f3011e7513986c8971f07fe164e491_48196_1320x0_resize_box_3.png 2x" src=/posts/20240414-prometheus-proxmox/add_user_hu86f3011e7513986c8971f07fe164e491_48196_660x0_resize_box_3.png alt="Creación del usuario promexporter:"><figcaption>Crea el usuario promexporter en tu cluster Proxmox</figcaption></figure>Regresa a los Permisos. Establece la ruta a &lsquo;/&rsquo;. Selecciona tu usuario. Dale el
rol Auditor PVE.<figure><img class="my-0 rounded-md" loading=lazy srcset="/posts/20240414-prometheus-proxmox/add_user_permissions_hucf579c20622779a91a1b17b3324f3e51_59871_330x0_resize_box_3.png 330w,
/posts/20240414-prometheus-proxmox/add_user_permissions_hucf579c20622779a91a1b17b3324f3e51_59871_660x0_resize_box_3.png 660w,
/posts/20240414-prometheus-proxmox/add_user_permissions_hucf579c20622779a91a1b17b3324f3e51_59871_1024x0_resize_box_3.png 1024w,
/posts/20240414-prometheus-proxmox/add_user_permissions_hucf579c20622779a91a1b17b3324f3e51_59871_1320x0_resize_box_3.png 2x" src=/posts/20240414-prometheus-proxmox/add_user_permissions_hucf579c20622779a91a1b17b3324f3e51_59871_660x0_resize_box_3.png alt="Creación de permisos de usuario promexporter:"><figcaption>Agrega el rol Auditor PVE al nuevo usuario</figcaption></figure></p><p>A continuación, crea un archivo de configuración para el exportador:
<code>/etc/prometheus/pve.yml</code> En este archivo, debes especificar los detalles del
usuario del usuario <code>promexporter</code> que acabamos de crear y agregaremos una
bandera para omitir la verificación del cluster Proxmox:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>user</span><span class=p>:</span><span class=w> </span><span class=l>promexporter@pve</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>supersecretpassword</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>verify_ssl</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span></code></pre></div><h4 class="relative group">Exportador PVE como servicio de Linux<div id=exportador-pve-como-servicio-de-linux class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#exportador-pve-como-servicio-de-linux aria-label=Ancla>#</a></span></h4><p>Dado que quiero monitorear mi cluster en cualquier momento, configuraré el
Exportador PVE como un servicio de Linux usando Systemd:</p><p>Agrega esto al archivo <code>/etc/systemd/system/prometheus-pve-exporter.service</code>:</p><pre tabindex=0><code>[Unit]
Description=Prometheus exporter for Proxmox VE
Documentation=https://github.com/znerol/prometheus-pve-exporter

[Service]
Restart=always
User=prometheus
ExecStart=/opt/prometheus-pve-exporter/bin/pve_exporter /etc/prometheus/pve.yml

[Install]
WantedBy=multi-user.target
</code></pre><p><strong>Aplicar cambios y verificar el estado:</strong></p><p>Recarga systemd: Después de guardar la configuración del exportador, informa a
systemd sobre los cambios usando:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl daemon-reload
</span></span></code></pre></div><p>Inicia el servicio: Finalmente, inicia el servicio de exportador PVE:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl start prometheus-pve-exporter
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> prometheus-pve-exporter
</span></span></code></pre></div><p>Verificar estado: Para confirmar si el Exportador se está ejecutando
correctamente, verifica su estado con:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl status prometheus-pve-exporter
</span></span></code></pre></div><p>Para ahora, deberías tener el exportador ejecutándose en tu máquina virtual y
sus métricas accesibles desde la interfaz web en el puerto <code>9221</code>.</p><p>Puedes acceder a las métricas con curl:</p><p><figure><img class="my-0 rounded-md" loading=lazy srcset="/posts/20240414-prometheus-proxmox/exporter_working_hu094a9ee365abbd399dd08936b6da3c73_129942_330x0_resize_box_3.png 330w,
/posts/20240414-prometheus-proxmox/exporter_working_hu094a9ee365abbd399dd08936b6da3c73_129942_660x0_resize_box_3.png 660w,
/posts/20240414-prometheus-proxmox/exporter_working_hu094a9ee365abbd399dd08936b6da3c73_129942_1024x0_resize_box_3.png 1024w,
/posts/20240414-prometheus-proxmox/exporter_working_hu094a9ee365abbd399dd08936b6da3c73_129942_1320x0_resize_box_3.png 2x" src=/posts/20240414-prometheus-proxmox/exporter_working_hu094a9ee365abbd399dd08936b6da3c73_129942_660x0_resize_box_3.png alt="Accesing promexporter metrics:"></figure></p><h2 class="relative group">Asociando Prometheus con el exportador PVE<div id=asociando-prometheus-con-el-exportador-pve class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#asociando-prometheus-con-el-exportador-pve aria-label=Ancla>#</a></span></h2><p>Ahora, necesitamos configurar el servidor Prometheus para que recopile las
métricas expuestas por el Exportador PVE de Proxmox.  Para hacerlo, debemos
editar el archivo de configuración de Prometheus
<code>/etc/prometheus/prometheus.yml</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>global</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;prometheus&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>targets</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;localhost:9090&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;pve&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>targets</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>&lt;IP of node 1&gt; # pve1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>&lt;IP of node 2&gt; # pve2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>metrics_path</span><span class=p>:</span><span class=w> </span><span class=l>/pve</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>default]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>cluster</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=nt>node</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;1&#39;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>relabel_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__address__]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__param_target</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>source_labels</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>__param_target]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>instance</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span>- <span class=nt>target_label</span><span class=p>:</span><span class=w> </span><span class=l>__address</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>replacement</span><span class=p>:</span><span class=w> </span><span class=l>&lt;IP de la máquina donde esta el exportador&gt;:9221</span><span class=w>
</span></span></span></code></pre></div><p>En este archivo:</p><ul><li>Definimos un nuevo trabajo llamado &lsquo;pve&rsquo; para raspar las métricas de nuestros
nodos Proxmox VE.</li><li>Especificamos la ruta a la ruta de la API del exportador PVE.</li><li>Agregamos parámetros para especificar el clúster y el nodo a los que se hace
referencia en las métricas.</li><li>Configuramos etiquetas de re-etiquetado para transformar las etiquetas de
origen en las etiquetas deseadas.</li><li>Reemplazamos la etiqueta <code>__address__</code> original con la dirección IP de la
máquina virtual donde se está ejecutando el exportador.</li></ul><p>Guarda y ajusta la propiedad: Una vez que hayas agregado la configuración,
guarda el archivo y asegúrate de que el usuario de Prometheus sea el
propietario:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo chown prometheus:prometheus /etc/prometheus/prometheus.yml
</span></span></code></pre></div><p><strong>Aplicar cambios:</strong></p><p>Recarga systemd para que reconozca los cambios en el archivo de configuración de
Prometheus:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl daemon-reload
</span></span></code></pre></div><p>Para ahora, deberías tener las métricas del cluster Proxmox accesibles desde tu
navegador:</p><p><figure><img class="my-0 rounded-md" loading=lazy srcset="/posts/20240414-prometheus-proxmox/prom_working_hu7fd519023570ce56c2dcfd1c5318cca9_22383_330x0_resize_box_3.png 330w,
/posts/20240414-prometheus-proxmox/prom_working_hu7fd519023570ce56c2dcfd1c5318cca9_22383_660x0_resize_box_3.png 660w,
/posts/20240414-prometheus-proxmox/prom_working_hu7fd519023570ce56c2dcfd1c5318cca9_22383_1024x0_resize_box_3.png 1024w,
/posts/20240414-prometheus-proxmox/prom_working_hu7fd519023570ce56c2dcfd1c5318cca9_22383_1320x0_resize_box_3.png 2x" src=/posts/20240414-prometheus-proxmox/prom_working_hu7fd519023570ce56c2dcfd1c5318cca9_22383_660x0_resize_box_3.png alt="Accesing exporter metrics from Prometheus:"></figure></p><h2 class="relative group">Visualización de métricas de Proxmox desde Grafana<div id=visualizaci%C3%B3n-de-m%C3%A9tricas-de-proxmox-desde-grafana class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#visualizaci%C3%B3n-de-m%C3%A9tricas-de-proxmox-desde-grafana aria-label=Ancla>#</a></span></h2><p>Una vez que hayas configurado Prometheus y Grafana, el siguiente paso es
conectarlos para que Grafana pueda visualizar las métricas recopiladas por
Prometheus. Así es como se logra:</p><p><strong>Agrega Prometheus como una fuente de datos en Grafana:</strong></p><ul><li>Abre la interfaz web de Grafana en tu navegador.</li><li>Inicia sesión con tus credenciales.</li><li>En la barra lateral izquierda, haz clic en el icono de engranaje de
configuración y selecciona &ldquo;Fuentes de datos&rdquo;.</li><li>Haz clic en &ldquo;Agregar fuente de datos&rdquo;.</li><li>Elige &ldquo;Prometheus&rdquo; como tipo.</li><li>En el campo &ldquo;URL&rdquo;, ingresa la dirección de tu servidor Prometheus. Si
Prometheus se está ejecutando en la misma máquina que Grafana, puedes usar
<code>http://&lt;Prometheus Server IP>:9090</code>.</li><li>Haz clic en &ldquo;Guardar y probar&rdquo; para verificar la conexión. Si es exitosa,
verás un mensaje que confirma la conectividad.</li></ul><p><strong>Explora y visualiza las métricas:</strong></p><p>La forma más rápida de utilizar las métricas es exportar un excelente panel:
<a href=https://grafana.com/grafana/dashboards/10347-proxmox-via-prometheus/ target=_blank>https://grafana.com/grafana/dashboards/10347-proxmox-via-prometheus/</a>
que está disponible al público.</p><p>Este panel se puede importar a nuestro servidor Grafana y vendrá preconfigurado
con gráficos y tablas útiles de nuestro cluster, que se verá así:</p><p>Accesing the Proxmox dashboard on Grafana: grafana_working.png</p><p>Al explorar este panel, puedes obtener información valiosa sobre el estado y el
rendimiento de tu entorno Proxmox. Puedes ver métricas como el uso de CPU,
memoria, almacenamiento y red para cada nodo en tu cluster. También puedes ver
gráficos que muestran tendencias en el tiempo, lo que te permite identificar
posibles problemas antes de que se intensifiquen.</p><p><strong>¡Felicidades!</strong> Ahora deberías poder monitorear tu cluster Proxmox con
Prometheus y Grafana. Esta configuración te proporcionará información valiosa
que te ayudará a mantener tu cluster en funcionamiento sin problemas y optimizar
el rendimiento.</p></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://albertolvera.com/es/posts/20240414-prometheus-proxmox/&amp;title=Monitoreando%20tu%20cluster%20de%20Proxmox%20con%20Prometheus%20y%20Grafana" title="Compartir en LinkedIn" aria-label="Compartir en LinkedIn"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://twitter.com/intent/tweet/?url=https://albertolvera.com/es/posts/20240414-prometheus-proxmox/&amp;text=Monitoreando%20tu%20cluster%20de%20Proxmox%20con%20Prometheus%20y%20Grafana" title="Tuitear en Twitter" aria-label="Tuitear en Twitter"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</span></a><a target=_blank class="m-1 rounded bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://api.whatsapp.com/send?text=https://albertolvera.com/es/posts/20240414-prometheus-proxmox/&amp;resubmit=true&amp;title=Monitoreando%20tu%20cluster%20de%20Proxmox%20con%20Prometheus%20y%20Grafana" title aria-label><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4.0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3.0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2.0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2.0-101.7 82.8-184.5 184.6-184.5 49.3.0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5.0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8s-14.3 18-17.6 21.8c-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2s-9.7 1.4-14.8 6.9c-5.1 5.6-19.4 19-19.4 46.3.0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg></span></a></section><h2 class="mt-8 text-2xl font-extrabold mb-10">Relacionados</h2><section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3"><a href=/es/posts/20240203-almalinux-3/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/es/posts/20240203-almalinux-3/>Administración básica de AlmaLinux - Firewalld</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">4 mins</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/home-lab/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Home Lab
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/cli/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">CLI
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/linux-admin/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Linux Admin</span></span></span></div></div></div><div class="px-6 pt-4 pb-2"></div></div></a><a href=/es/posts/20240201-almalinux-1/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/es/posts/20240201-almalinux-1/>Administración básica de AlmaLinux - Instalación</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">3 mins</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/home-lab/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Home Lab
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/cli/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">CLI
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/linux-admin/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Linux Admin</span></span></span></div></div></div><div class="px-6 pt-4 pb-2"></div></div></a><a href=/es/posts/20240202-almalinux-2/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/es/posts/20240202-almalinux-2/>Administración básica de AlmaLinux - Usuarios</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">4 mins</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/home-lab/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Home Lab
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/cli/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">CLI
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/linux-admin/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Linux Admin</span></span></span></div></div></div><div class="px-6 pt-4 pb-2"></div></div></a><a href=/es/posts/202302-basicnetworking/ class=min-w-full><div class="min-h-full border border-neutral-200 dark:border-neutral-700 border-2 rounded overflow-hidden shadow-2xl relative"><div class="px-6 py-4"><div class="font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral" href=/es/posts/202302-basicnetworking/>Redes 101: DNS, DHCP, y Proxies</div><div class="text-sm text-neutral-500 dark:text-neutral-400"><div class="flex flex-row flex-wrap items-center"><span title="Tiempo de lectura">3 mins</span></div><div class="flex flex-row flex-wrap items-center"></div><div class="flex flex-row flex-wrap items-center"><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/networking/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Networking
</span></span></span><span style=margin-top:.5rem class=mr-2 onclick='window.open("/es/tags/home-lab/","_self")'><span class=flex style=cursor:pointer><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Home Lab</span></span></span></div></div></div><div class="px-6 pt-4 pb-2"></div></div></a></section></div><script>var oid="views_posts/20240414-prometheus-proxmox/index.md",oid_likes="likes_posts/20240414-prometheus-proxmox/index.md"</script><script type=text/javascript src=/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q+oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="flex group mr-3" href=/es/posts/20240203-almalinux-3/><span class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400">&larr;</span>
<span class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400">&rarr;</span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Administración básica de AlmaLinux - Firewalld</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"></span></span></a></span><span></span></div></div></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Ir arriba" title="Ir arriba">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400"><ul class="flex flex-col list-none sm:flex-row"><li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href=/es/tags/ title>Tags</a></li></ul></nav><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024
Alberto Olvera</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Desarrollada con <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://albertolvera.com/es/ style=z-index:500><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=Buscar tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="Cerrar (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>